## 함수형 프로그래밍(Functional Programming, FP)이란 무엇인가?

이 책은 여러분이 프로그래밍에 대한 기본적인 지식을 갖추고 있다는 전제하에 함수형 프로그래밍(Functional Programming, FP)의 세계로 여러분을 안내합니다. FP는 단순히 코드를 작성하는 방법을 넘어선 **프로그래밍 패러다임**이자 **코드를 구성하고 프로젝트에 접근하는 스타일**입니다. 수학적 함수에 기반을 둔 이 패러다임에서는 **함수가 핵심적인 역할**을 수행합니다.

FP의 가장 큰 특징 중 하나는 **선언적(Declarative) 프로그래밍**을 지향한다는 점입니다. 이는 여러분이 프로그램에게 "무엇을 원하는지"를 명시하는 방식입니다. 반면, 대부분의 프로그래머가 익숙한 **명령형(Imperative) 프로그래밍**은 "어떻게 해야 하는지"를 단계별로 자세히 지시합니다. 예를 들어, 명령형 방식에서는 루프의 초기 값, 증가 방법, 종료 조건 등을 모두 정의해야 하지만, 선언형 방식에서는 이러한 세부 사항 없이 원하는 결과만 명시합니다.

이러한 선언적 접근 방식은 코드의 여러 이점을 가져다줍니다. 전체 프로그램이 단일 표현식으로 구성될 수 있으며, 변수의 상태를 계속 업데이트할 필요가 없어 **코드를 이해하고, 테스트하고, 디버깅하기 훨씬 쉬워집니다**.

FP의 핵심 사상과 이점은 다음과 같은 원칙들을 통해 구현됩니다:

- **불변성(Immutability):** 함수형 프로그래밍에서는 **값이 한 번 생성되면 변경할 수 없습니다**. 대신, 데이터가 변경될 필요가 있을 때는 원본 값을 수정하는 대신 **새로운 복사본을 만들어 반환**합니다. 이는 코드 내에서 발생하는 수많은 버그의 원인인 가변성(mutable variables)을 제거하여 **데이터를 다루기 쉽게 만들고 시스템의 확장성을 크게 향상**시킵니다. 파이썬에서 `tuple`은 불변성을 가지는 반면, `list`는 가변적입니다.
- **순수 함수(Pure Functions):** 순수 함수는 두 가지 중요한 속성을 가집니다. 첫째, **동일한 입력이 주어지면 항상 동일한 결과**를 반환합니다. 둘째, **함수 외부의 어떤 상태도 변경하지 않으며(즉, 부수 효과 없음)**, 외부 요인(예: 전역 변수, 파일 시스템, 네트워크)에 의존하지 않습니다. 이러한 예측 가능성은 **함수를 테스트하고 디버깅하는 것을 매우 쉽게 만듭니다**. 콘솔에 출력하거나, 파일을 읽고 쓰는 것과 같은 "부수 효과(side effects)"는 프로그램이 유용하기 위해 필요하지만, FP에서는 이를 **코드의 특정 부분에만 제한**하여 관리합니다.
- **고차 함수(Higher-Order Functions, HOFs):** 고차 함수는 **다른 함수를 인자로 받거나(예: 콜백 함수) 함수를 결과로 반환**할 수 있는 함수입니다. 이는 함수를 문자열이나 숫자와 같은 일반적인 값처럼 다루는 **일급 함수(first-class functions)** 개념에 기반을 둡니다. `map`, `filter`, `reduce`는 함수형 프로그래밍에서 흔히 사용되는 고차 함수의 예시입니다.
- **재귀(Recursion):** 함수가 **자기 자신을 호출하는 것**을 재귀라고 합니다. 이는 명령형 프로그래밍의 `for`나 `while` 루프와 같은 반복 작업을 대체하는 중요한 방법입니다. 무한 루프를 방지하기 위해 **기본 조건(base case)**을 설정하는 것이 필수적입니다.

명령형 방식과 함수형(선언형) 방식의 차이를 파이썬 예시로 살펴보겠습니다. 다음은 사람 목록에서 여성만 필터링하는 코드입니다.

```python
class Person:
    def __init__(self, name, gender):
        self.name = name
        self.gender = gender

class Gender:
    MALE = "MALE"
    FEMALE = "FEMALE"

people = [
    Person("John", Gender.MALE),
    Person("Maria", Gender.FEMALE),
    Person("Aisha", Gender.FEMALE),
    Person("Alex", Gender.MALE),
    Person("Alice", Gender.FEMALE)
]

print("--- 명령형(Imperative) 방식 ---")
# 명령형 방식: 모든 구현 세부 사항을 직접 정의
females_imperative = []
for person in people: # 루프를 통해 명시적으로 반복
    if person.gender == Gender.FEMALE: # 조건문을 통해 명시적으로 검사
        females_imperative.append(person) # 결과를 명시적으로 리스트에 추가

for female in females_imperative:
    print(f"명령형: {female.name}")

print("\n--- 선언형(Declarative) 방식 ---")
# 선언형 방식: 원하는 것(what)을 정의
# (주의: 파이썬의 리스트 컴프리헨션은 때때로 선언적으로 보이지만, 이 컨텍스트에서는 명령적으로 간주될 수 있습니다.)
# 여기서는 고차 함수(filter)와 람다 함수(익명 함수)를 사용하여 함수형 개념을 강조합니다.

# Predicate(조건을 검사하고 True/False를 반환하는 함수)
is_female = lambda person: person.gender == Gender.FEMALE
females_functional = list(filter(is_female, people)) # filter 함수를 사용해 여성만 필터링

for female in females_declarative:
    print(f"선언형 (수집): {female.name}")
```

위 예시에서 명령형 방식은 빈 `females_imperative` 리스트를 초기화하고, `for` 루프와 `if` 문을 사용하여 각 단계를 명시적으로 제어합니다. 반면, 선언형 방식은 `filter` 함수에 `is_female` 람다 함수를 전달하여 "여성인 사람을 필터링한다"는 "무엇(what)"을 표현합니다. 이는 코드의 **간결성**과 **명확성**을 높여줍니다.

## 왜 파이썬으로 함수형 프로그래밍을 배우는가?

파이썬은 종종 **"순수 함수형 언어는 아니다"**라고 불립니다. 이는 파이썬이 가변적인 데이터 타입을 허용하고, 모든 함수에서 순수성을 강제하지 않으며, 특정 최적화(예: 꼬리 호출 최적화)를 기본적으로 지원하지 않는 등의 이유 때문입니다. 하지만 이러한 제약에도 불구하고 **파이썬으로 함수형 프로그래밍을 배우는 것은 매우 유익**합니다.

가장 큰 이유는 **함수형 프로그래밍의 핵심 개념들이 언어를 초월하여 적용 가능**하기 때문입니다. 여러분이 파이썬에서 순수 함수, 불변성, 고차 함수, 재귀 등의 원칙을 이해하고 적용하는 방법을 배우면, 이러한 지식은 자바스크립트, 자바, Go, 엘릭서, 하스켈 등 **다른 모든 프로그래밍 언어에도 적용**될 수 있습니다. 파이썬은 이미 많은 개발자들에게 익숙한 언어이므로, 새로운 언어를 배우는 부담 없이 FP 개념에 집중할 수 있다는 장점이 있습니다.

또한, 함수형 프로그래밍과 **객체 지향 프로그래밍(Object-Oriented Programming, OOP)은 상호 배타적이지 않습니다**. 많은 사람들이 이 두 패러다임을 반대 개념으로 생각하지만, 실제로는 **명령형 프로그래밍이 함수형 프로그래밍의 더 적합한 반대 개념**입니다.

어떤 하나의 패러다임이 다른 것보다 **본질적으로 우월한 것은 아닙니다**. 각각의 패러다임은 고유한 장단점을 가지고 있으며, **특정 문제에 가장 적합한 도구**가 될 수 있습니다. OOP는 상태를 공유하고 생명 주기가 긴 객체의 계층적 컬렉션을 다루는 데 강점을 보이는 반면, FP는 데이터를 일련의 변환으로 보는 데 중점을 둡니다.

최고의 개발자들은 이 두 패러다임의 **강점을 효과적으로 결합**하여 더 나은 코드를 작성합니다. OOP의 네 가지 기둥 중 **상속(inheritance)**은 종종 FP의 불변성과 충돌하지만, **캡슐화(encapsulation), 다형성(polymorphism), 추상화(abstraction)는 FP에서도 여전히 유용하게 사용**됩니다. 따라서 이 책을 통해 여러분은 두 패러다임의 장점을 이해하고, 상황에 따라 적절히 활용하여 **더욱 깔끔하고 효율적인 코드**를 작성하는 방법을 배울 수 있을 것입니다.

## 이 책을 통해 무엇을 얻을 수 있는가 (학습 목표)

이 책은 여러분에게 함수형 프로그래밍의 기본적인 개념과 실제 적용 방법을 안내하여, 다음과 같은 목표를 달성하도록 돕습니다:

- **함수형 프로그래밍의 핵심 개념 숙달:** 순수 함수, 불변성, 고차 함수, 재귀 등 FP의 가장 중요한 원칙들을 **깊이 있게 이해**하고, 이를 코드에 효과적으로 적용하는 방법을 배웁니다.
- **간결하고 디버깅하기 쉬운 코드 작성 능력 향상:** FP가 어떻게 **코드의 간결성**을 높이고, **버그를 줄이며**, **디버깅을 용이하게** 하는지 직접 경험하게 됩니다.
- **재귀적 사고방식 확립:** 많은 개발자들이 어려워하는 **재귀 개념을 두려워하지 않고 자신감 있게 사용할 수 있도록** 다양한 예시와 연습을 통해 재귀적 문제 해결 능력을 키웁니다.
- **범용적인 프로그래밍 역량 강화:** 파이썬은 순수 함수형 언어가 아니지만, 이 책에서 배우는 FP 원칙들은 **모든 프로그래밍 언어에 걸쳐 유용하게 적용될 수 있는 보편적인 지식**입니다. 이를 통해 어떤 언어를 사용하든 **더 나은 개발자**가 될 수 있는 기반을 다지게 될 것입니다.
- **실용적인 FP 기술 습득:** `map`, `filter`, `reduce`와 같은 고차 함수의 활용법을 포함하여, 파이썬 데코레이터, 클로저, 커링 등 **고급 함수형 프로그래밍 기법**들을 학습합니다.

이 책을 통해 여러분은 단순히 새로운 문법을 배우는 것을 넘어, **문제를 해결하고 코드를 구조화하는 새로운 사고방식**을 습득하게 될 것입니다. 이는 여러분의 프로그래밍 여정에서 강력한 도구가 될 것입니다.